/*! hierarchicalGroupsForBp - v1.0.0 - 2019-01-30 */
!function(i){"use strict";var r=!1;i(document).ready(function(){i("#hgbp-enable-tree-view-container input").prop("disabled",i("#groups-personal").hasClass("selected"));var e=document.getElementById("groups-all");null!==e&&window.MutationObserver&&new MutationObserver(function(e){e.forEach(function(e){"class"===e.attributeName&&i("#hgbp-enable-tree-view-container input").prop("disabled",i("#groups-personal").hasClass("selected"))})}).observe(e,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]});i("#buddypress").on("click",".toggle-child-groups",function(e){var t;e.preventDefault(),(t=i(this)).siblings(".child-groups").toggleClass("open"),t.toggleClass("open"),t.attr("aria-expanded",t.siblings(".child-groups").hasClass("open")),function(e){var t=e.closest(".child-groups-container").find(".child-groups").first();if(i.trim(t.text()).length)return;if(!1!==r)return;r=!0,t.addClass("loading"),i.ajax({url:ajaxurl,type:"GET",data:{parent_id:e.data("group-id"),action:"hgbp_get_child_groups"},success:function(e){i(t).html(e).trigger("childGroupsContainerPopulated")}}).done(function(e){r=!1,t.removeClass("loading")})}(i(this))}),i("#buddypress").on("change","#hgbp-enable-tree-view",function(e){!function(e){var t=e.prop("checked")?1:0,r=i("select#groups-order-by").val(),s="";i.cookie("bp-groups-use-tree-view",t,{path:"/"}),i(".dir-search input").length&&(s=i(".dir-search input").val());bp_filter_request("groups",r,"filter","div.groups",s,1,i.cookie("bp-group-extras"))}(i(this))})})}(jQuery);